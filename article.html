<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>{{title}} | Around the Ville</title>
    
    <!-- GA4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TYCR7B2T5J"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-TYCR7B2T5J');
    </script>

    <meta name="description" content='{{description}}'>
    <meta property="og:title" content='{{title}}'>
    <meta property="og:description" content='{{description}}'>
    <meta property="og:image" content='{{image}}'>
    <meta property="og:url" content='{{url}}'>
    <meta property="og:type" content='article'>
    <meta name="twitter:card" content='summary_large_image'>
    <meta name="twitter:title" content='{{title}}'>
    <meta name="twitter:description" content='{{description}}'>
    <meta name="twitter:image" content='{{image}}'>

    <link rel="stylesheet" href="https://aroundtheville.com/assets/styles/header.css">
    <link rel="stylesheet" href="https://aroundtheville.com/assets/styles/footer.css">
    <link rel="stylesheet" href="https://aroundtheville.com/assets/styles/article.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://aroundtheville.com/assets/icons/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="https://aroundtheville.com/assets/icons/favicon/favicon.svg" />
    <link rel="shortcut icon" href="https://aroundtheville.com/assets/icons/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="https://aroundtheville.com/assets/icons/favicon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Around The Ville" />
    <link rel="manifest" href="https://blogs.aroundtheville.com/assets/icons/favicon/blogs.site.webmanifest" />
    
</head>
<body>
    <div id="header"></div>
    <div id="progress-bar-container">
        <div id="progress-bar"></div>
    </div>
    <main id="blog-content" aria-labelledby="article-title">
        <h1 id="article-title">{{title}}</h1>
        <div class="blog-image-container">
          {{image}}
        </div>
        <div id="article-content">{{content}}</div> <!-- Content is now directly rendered on the server side -->
      </main>
      
    <!-- Share Article Section -->
    <section id="share-article">
        <h3>Share this article</h3>
        <div class="social-buttons">
            <a href="/share/twitter?url={{url}}" class="social-icon" id="twitter-share" title="Share on Twitter">
                <i class="fab fa-twitter"></i> <!-- Twitter Icon -->
            </a>
            <a href="/share/facebook?url={{url}}" class="social-icon" id="facebook-share" title="Share on Facebook">
                <i class="fab fa-facebook-f"></i> <!-- Facebook Icon -->
            </a>
            <a href="/share/instagram?url={{url}}" class="social-icon" id="instagram-share" title="Share on Instagram">
                <i class="fab fa-instagram"></i> <!-- Instagram Icon -->
            </a>
            <a href="/share/whatsapp?url={{url}}" class="social-icon" id="whatsapp-share" title="Share on WhatsApp">
                <i class="fab fa-whatsapp"></i> <!-- WhatsApp Icon -->
            </a>
            <a href="/share/pinterest?url={{url}}" class="social-icon" id="pinterest-share" title="Share on Pinterest">
                <i class="fab fa-pinterest-p"></i> <!-- Pinterest Icon -->
            </a>
            <a href="/share/email?url={{url}}" class="social-icon" id="email-share" title="Share via Email">
                <i class="fas fa-envelope"></i> <!-- Email Icon -->
            </a>
        </div>
    </section>
    
    <div class="section-divider"></div>

    <!-- Related Articles Section -->
    <div id="related-articles">
        <h3>Related Articles</h3>
        <div id="related-articles-content">
            {{related_articles_content}} <!-- Placeholder for related articles -->
        </div>
    </div>
    
    <div id="footer-container"></div>

    <script src="https://aroundtheville.com/assets/scripts/header.js" defer></script>
    <script type="module" src="https://aroundtheville.com/assets/scripts/footer.js" defer></script>
    <script type="module" src="https://aroundtheville.com/assets/scripts/article.js" defer></script>

     <!-- Service Worker Registration -->
     <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/assets/scripts/blogs-service-worker.js') // Adjust path if necessary
                    .then(registration => {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch(error => {
                        console.error('ServiceWorker registration failed: ', error);
                    });
            });
        }
        </script>


</body>
</html>
